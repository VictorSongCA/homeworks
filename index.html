<!DOCTYPE html>
<html>
  <head>
    <title>My Form</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $(document).ready(function () {
        $("#my-form").submit(function (event) {
          event.preventDefault();

          var firstName = $("#first-name").val().trim();
          var lastName = $("#last-name").val().trim();
          if (firstName.indexOf(" ") >= 0 || lastName.indexOf(" ") >= 0) {
            alert("First name and last name cannot contain spaces");
            return;
          }

          var dob = new Date($("#dob").val());
          var today = new Date();
          var age = today.getFullYear() - dob.getFullYear();
          if (age < 18) {
            alert("You must be 18 years or older to submit the form");
            return;
          }

          var newRow =
            "<tr>" +
            "<td>" +
            firstName +
            "</td>" +
            "<td>" +
            lastName +
            "</td>" +
            "<td>" +
            dob.toISOString().substr(0, 10) +
            "</td>" +
            "<td>" +
            '<button class="edit-btn">Edit</button>' +
            '<button class="delete-btn">Delete</button>' +
            "</td>" +
            "</tr>";
          $("#my-table tbody").append(newRow);

          $("#first-name").val("");
          $("#last-name").val("");
          $("#dob").val("");
        });

        $("#my-table tbody").on("click", ".edit-btn", function () {
          var row = $(this).closest("tr");
          var firstName = row.find("td:nth-child(1)").text();
          var lastName = row.find("td:nth-child(2)").text();
          var dob = row.find("td:nth-child(3)").text();

          $("#first-name").val(firstName);
          $("#last-name").val(lastName);
          $("#dob").val(dob);

          row.remove();
        });

        $("#my-table tbody").on("click", ".delete-btn", function () {
          var row = $(this).closest("tr");
          row.remove();
        });
      });
    </script>
  </head>
  <body>
    <h1>User Details</h1>
    <form id="my-form">
      <label for="first-name">First Name:</label>
      <input
        type="text"
        id="first-name"
        name="first-name"
        required
      /><br /><br />

      <label for="last-name">Last Name:</label>
      <input type="text" id="last-name" name="last-name" required /><br /><br />

      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob" name="dob" required /><br /><br />

      <input type="submit" value="Save" />
    </form>

    <table id="my-table">
      <thead>
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Date of Birth</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </body>
</html>
